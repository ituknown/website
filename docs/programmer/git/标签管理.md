## æŸ¥çœ‹æ ‡ç­¾

**åˆ—å‡ºæ‰€æœ‰æ ‡ç­¾ï¼š**

```bash
$ git tag
```

è¾“å‡ºç¤ºä¾‹ï¼š

```bash
$ git tag

v0.0.1-establish
v0.0.2-broadcast
```

**åˆ—å‡ºæ‰€æœ‰æ ‡ç­¾åŠè¯´æ˜ï¼š**

`git tag` è™½ç„¶èƒ½å¤Ÿåˆ—å‡ºæ‰€æœ‰ tagï¼Œä½†æ˜¯ä¸æ˜¾ç¤ºæ³¨é‡Šä¿¡æ¯ï¼Œä»…ä»…ä¼šåˆ—å‡ºæ ‡ç­¾åã€‚æƒ³è¦åˆ—å‡ºæ ‡ç­¾çš„æ³¨é‡Šä¿¡æ¯å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š

```bash
$ git tag -n<num>
```

å…¶ä¸­ `<num>` è¡¨ç¤ºåˆ—å‡ºæŒ‡å®šæ•°é‡çš„æ ‡ç­¾ï¼Œæ˜¯å¯é€‰çš„ã€‚å¦‚æœä¸æŒ‡å®šå°±ä¼šåˆ—å‡ºæ‰€æœ‰æ ‡ç­¾ã€‚

è¾“å‡ºç¤ºä¾‹ï¼š

```bash
$ git tag -n

v0.0.1-establish The client establishes a connection with the server and communicates correctly ğŸš€
v0.0.2-broadcast Simple text communication between multiple clients
```

å¯ä»¥çœ‹åˆ°é™¤äº†æ ‡ç­¾è¿˜æ˜¾ç¤ºäº†æ ‡ç­¾çš„æ³¨é‡Šä¿¡æ¯ã€‚

**æ ‡ç­¾åŒ¹é…ï¼š**

æœ‰çš„æ—¶å€™æ ‡ç­¾å¯èƒ½å¤ªå¤šï¼Œè¿™ç§æƒ…å†µä¸‹è¿˜ç»§ç»­ä½¿ç”¨ `git tag` æˆ– `git tag -n` å‘½ä»¤æ¥æŸ¥çœ‹æ ‡ç­¾å°±æ˜¾å¾—æ²¡é‚£ä¹ˆå‹å¥½äº†ã€‚é€šå¸¸çš„åšæ³•æ˜¯ä½¿ç”¨åŒ¹é…ç¬¦æ¥è¿‡æ»¤æŒ‡å®šçš„æ ‡ç­¾ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š

```bash
$ git tag [-l|--list] <pattern>
```

å…¶ä¸­ `<pattern>` è¡¨ç¤ºçš„å°±æ˜¯å…·ä½“çš„åŒ¹é…è§„åˆ™ï¼Œæ˜¯å¯é€‰çš„ã€‚å¦‚æœä¸æŒ‡å®šåŒ¹é…è§„åˆ™è¯¥å‘½ä»¤å°±ä¸ `git tag -n` ç­‰ä»·ã€‚

æ¯”å¦‚æˆ‘æƒ³è¦åŒ¹é…å¸¦ `establish` å…³é”®å­—çš„æ ‡ç­¾ï¼š

```bash
$ git tag -l "*establish*"

v0.0.1-establish
```

**æŸ¥çœ‹æŒ‡å®šæ ‡ç­¾ä¿¡æ¯ï¼š**

å‰é¢çš„å‘½ä»¤éƒ½æ˜¯ç”¨äºåˆ—å‡ºæ ‡ç­¾ä¿¡æ¯ï¼Œå¦‚æœæƒ³è¦æŸ¥çœ‹å…·ä½“æ ‡ç­¾çš„æäº¤ä¿¡æ¯å¯ä»¥ä½¿ç”¨ `show` å‘½ä»¤ï¼š

```bash
$ git show <TagName>
```

`show` å‘½ä»¤ä¼šæ˜¾ç¤ºå…·ä½“çš„ commit ä¿¡æ¯ï¼Œåœ¨å®é™…ä¸­å¾ˆæœ‰ç”¨ã€‚ç¤ºä¾‹ï¼š

```bash
$ git show v0.0.1-establish

tag v0.0.1-establish
Tagger: magicain <example@mail.com>
Date:   Tue May 31 16:00:52 2022 +0800

The client establishes a connection with the server and communicates correctly ğŸš€

commit effcd6f0f4e6e544dae93cfd57fe40d1feaa1999 (tag: v0.0.1-establish, tag: show)
Author: magicain <example@mail.com>
Date:   Sun May 29 13:29:57 2022 +0800

    remove main.go

....
```

## åˆ›å»ºæ ‡ç­¾

åˆ›å»ºæ ‡ç­¾çš„å‘½ä»¤å¦‚ä¸‹ï¼š

```bash
git tag [-f] [-m <msg>] <tagName> [<commit>]
```

- `-f` å¼ºåˆ¶æ‰§è¡Œï¼Œé€šå¸¸ç”¨äºè¦†ç›–ä¿®æ”¹
- `-m` åˆ›å»ºæˆ–ä¿®æ”¹æ ‡ç­¾æ—¶æ·»åŠ å¤‡æ³¨ä¿¡æ¯ï¼ˆå¦‚æœåœ¨åˆ›å»ºæ—¶å¿˜è®°æ·»åŠ æè¿°ä¿¡æ¯å¯ä»¥ä½¿ç”¨ `-f` å‚æ•°è¡¥å……ï¼‰
- `<tagName>` è¦åˆ›å»ºçš„æ ‡ç­¾å
- `<commit>` åŸºäºæŒ‡å®š commit åˆ›å»ºæ ‡ç­¾ï¼ˆé»˜è®¤åŸºäºæœ€æ–°çš„æäº¤åˆ›å»ºæ ‡ç­¾ï¼‰

å…¶ä¸­ `-m` å¯ä»¥ç”¨äºæ·»åŠ äº›ç®€å•çš„æè¿°ä¿¡æ¯ã€‚å¦‚æœåœ¨åˆ›å»ºæ—¶å¿˜è®°æ·»åŠ æè¿°ä¿¡æ¯å¯ä»¥ä½¿ç”¨ `-f` å‚æ•°è¡¥å……æ·»åŠ ï¼š

**åŸºäºæœ€æ–°ä¸€æ¬¡æäº¤åˆ›å»ºæ ‡ç­¾ï¼š**

```bash
$ git tag example_tag_name
```

**åŸºäºæŒ‡å®šæäº¤åˆ›å»ºæ ‡ç­¾ï¼š**

å¯ä»¥å…ˆä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹å†å²æäº¤è®°å½•æ‰¾åˆ°å…·ä½“çš„ commitï¼š

```bash
$ git log --pretty=oneline --abbrev-commit
```

ç¤ºä¾‹ï¼š

```bash
e8e81e5 (HEAD -> main, origin/main, origin/HEAD) pref: ä»£ç ä¼˜åŒ–
22987c4 feat: colorizedğŸŒˆ
607484f feat: client broadcast ğŸ“£
effcd6f remove main.go
f73f4a3 package manage
aa6039e readme
b1805e2 remove workflow
b477753 github workflows
44e62a5 pred: import
98278f6 feat: å®Œå–„å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æ¶ˆæ¯é€šä¿¡
385bedc init go im repository
bd61a80 Initial commit
```

æ‰¾åˆ°å…·ä½“çš„ commit ä¹‹åå°±å¯ä»¥åŸºäºæŒ‡å®šçš„ commit æ‰“æ ‡ç­¾äº†ï¼ˆæ¯”å¦‚ effcd6f è¿™æ¬¡æäº¤ï¼‰ï¼š

```bash
$ git tag example_tag_name effcd6f
```

**æ·»åŠ æ³¨é‡Šä¿¡æ¯ï¼š**

åœ¨åˆ›å»ºæ ‡ç­¾æ—¶å¯ä»¥ä½¿ç”¨ `-m` å‚æ•°æ·»åŠ äº›ç®€å•çš„æ³¨é‡Šä¿¡æ¯ï¼š

```bash
$ git tag -m "ç®€å•çš„æ³¨é‡Šä¿¡æ¯" example_tag_name
```

ä½†æ˜¯å¦‚æœåœ¨åˆ›å»ºæ˜¯å¿˜è®°æ·»åŠ æ³¨é‡Šä¿¡æ¯äº†ï¼Œå¯ä»¥åœ¨åˆ›å»ºå®Œæˆåå†é…åˆ `-f` å‚æ•°æ¥æ·»åŠ ï¼š

```bash
$ git tag -f -m "ç®€å•çš„æ³¨é‡Šä¿¡æ¯" example_tag_name
```

## æ¨é€åˆ°è¿œç¨‹

å‘½ä»¤å¦‚ä¸‹ï¼š

```bash
$ git push origin <TagName>
```

æˆ–è€…ç›´æ¥æš´åŠ›ç‚¹ï¼ˆä¸æ¨èï¼‰ï¼š

```bash
git push --tags
# æˆ–
git push origin --tags
```

## åˆ é™¤æ ‡ç­¾

**åˆ é™¤æœ¬åœ°æ ‡ç­¾ï¼š**

```bash
$ git tag [-d|--delete] <TagName>
```

**åˆ é™¤åˆ é™¤è¿œç¨‹æ ‡ç­¾ï¼š**

```bash
$ git push origin --delete <TagName>
```

åˆ é™¤å®Œæˆä¹‹ååˆ«å¿˜è®°å‘Šè¯‰å…¶ä»–å°ä¼™ä¼´æ‰§è¡Œä¸‹å¦‚ä¸‹å‘½ä»¤æ›´æ–°ä¸‹ tagsï¼š

```bash
$ git pull --prune --tags
```

## æ ‡ç­¾é‡å‘½å

å¦‚æœå› ä¸ºæ‰‹é€Ÿå¤ªå¿«å¯¼è‡´æ ‡ç­¾åæ‹¼å†™é”™è¯¯ï¼Œå¯ä»¥å†åˆ›å»ºå®Œæˆä¹‹åå†è¿›è¡Œä¿®æ”¹ï¼š

```bash
$ git tag <NewTagName> <OldTagName>
```

ç„¶åå†ç»™æœ¬åœ°çš„ï¼ˆå¯é€‰ï¼‰å’Œè¿œç¨‹è€æ ‡ç­¾åˆ æ‰ï¼š

```bash
# åˆ é™¤æœ¬åœ°(å¯é€‰)
$ git tag -d <OldTagName>

# åˆ é™¤è¿œç¨‹
$ git push origin --delete <OldTagName>
```

ä¹‹åå†ç»™æ–°çš„æ ‡ç­¾æ¨é€åˆ°è¿œç¨‹ï¼š

```bash
$ git push origin <NewTagName>
```

æœ€ååˆ«å¿˜è®°å‘Šè¯‰å…¶ä»–å°ä¼™ä¼´æ‰§è¡Œä¸‹å¦‚ä¸‹å‘½ä»¤æ›´æ–°ä¸‹ tagsï¼š

```bash
$ git pull --prune --tags
```

## åŸºäºæŒ‡å®šæ ‡ç­¾åˆ›å»ºåˆ†æ”¯

```bash
$ git checkout <TagName>
```

æ£€å‡ºä¹‹åé€šå¸¸ä¼šæç¤ºå¤„äº `"detached HEAD"` çŠ¶æ€ï¼Œå› ä¸º tag ç›¸å½“äºä¸€ä¸ªå¿«ç…§ï¼Œæ˜¯ä¸èƒ½æ›´æ”¹å®ƒçš„ä»£ç çš„ã€‚

æ‰€ä»¥æœ€å¥½çš„åšæ³•æ˜¯åŸºäºæŒ‡å®š tag æ‹‰ä¸€ä¸ªæ–°åˆ†æ”¯ï¼ˆä¸æ¨é€è¿œç¨‹å³å¯ï¼‰ï¼š

```bash
git checkout -b <BranchName> <TagName>
```
